!function(){const t={482(){!function(t){const e=acf.Field.extend({type:"flexible_content",wait:"",events:{'click [data-name="add-layout"]':"onClickAdd",'click [data-name="duplicate-layout"]':"onClickDuplicate",'click [data-name="remove-layout"]':"onClickRemove",'click [data-name="collapse-layout"]':"onClickCollapse",showField:"onShow",unloadField:"onUnload",mouseover:"onHover"},$control(){return this.$(".acf-flexible-content:first")},$layoutsWrap(){return this.$(".acf-flexible-content:first > .values")},$layouts(){return this.$(".acf-flexible-content:first > .values > .layout")},$layout(t){return this.$(`.acf-flexible-content:first > .values > .layout:eq(${t})`)},$clonesWrap(){return this.$(".acf-flexible-content:first > .clones")},$clones(){return this.$(".acf-flexible-content:first > .clones  > .layout")},$clone(t){return this.$(`.acf-flexible-content:first > .clones  > .layout[data-layout="${t}"]`)},$actions(){return this.$(".acf-actions:last")},$button(){return this.$(".acf-actions:last .button")},$popup(){return this.$(".tmpl-popup:last")},getPopupHTML(){const e=this.$popup().html(); const a=t(e); const i=this.$layouts();return a.find("[data-layout]").each((function(){const e=t(this); const a=e.data("min")||0; const n=e.data("max")||0; const o=e.data("layout")||""; const s=function(e){return i.filter((function(){return t(this).data("layout")===e})).length}(o);if(n&&s>=n)e.addClass("disabled");else if(a&&s<a){const r=a-s; let l=acf.__("{required} {label} {identifier} required (min {min})"); const c=acf._n("layout","layouts",r);l=(l=(l=(l=l.replace("{required}",r)).replace("{label}",o)).replace("{identifier}",c)).replace("{min}",a),e.append(`<span class="badge" title="${l}">${r}</span>`)}})),a.outerHTML()},getValue(){return this.$layouts().length},allowRemove(){const t=parseInt(this.get("min"));return!t||t<this.val()},allowAdd(){const t=parseInt(this.get("max"));return!t||t>this.val()},isFull(){const t=parseInt(this.get("max"));return t&&this.val()>=t},addSortable(t){this.get("max")!=1&&this.$layoutsWrap().sortable({items:"> .layout",handle:"> .acf-fc-layout-handle",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,stop(e,a){t.render()},update(e,a){t.$input().trigger("change")}})},addCollapsed(){const e=i.load(this.get("key"));if(!e)return!1;this.$layouts().each((function(a){e.indexOf(a)>-1&&t(this).addClass("-collapsed")}))},addUnscopedEvents(e){this.on("invalidField",".layout",(function(a){e.onInvalidField(a,t(this))}))},initialize(){this.addUnscopedEvents(this),this.addCollapsed(),acf.disable(this.$clonesWrap(),this.cid),this.render()},render(){this.$layouts().each((function(e){t(this).find(".acf-fc-layout-order:first").html(e+1)})),this.val()==0?this.$control().addClass("-empty"):this.$control().removeClass("-empty"),this.isFull()?this.$button().addClass("disabled"):this.$button().removeClass("disabled")},onShow(t,e,a){const i=acf.getFields({is:":visible",parent:this.$el});acf.doAction("show_fields",i)},validateAdd(){if(this.allowAdd())return!0;const t=this.get("max"); let e=acf.__("This field has a limit of {max} {label} {identifier}"); const a=acf._n("layout","layouts",t);return e=(e=(e=e.replace("{max}",t)).replace("{label}","")).replace("{identifier}",a),this.showNotice({text:e,type:"warning"}),!1},onClickAdd(t,e){if(!this.validateAdd())return!1;let i=null;e.hasClass("acf-icon")&&(i=e.closest(".layout")).addClass("-hover");const n=new a({target:e,targetConfirm:!1,text:this.getPopupHTML(),context:this,confirm(t,e){e.hasClass("disabled")||this.add({layout:e.data("layout"),before:i})},cancel(){i&&i.removeClass("-hover")}});n.on("click","[data-layout]","onConfirm")},add(t){if(t=acf.parseArgs(t,{layout:"",before:!1}),!this.allowAdd())return!1;const e=acf.duplicate({target:this.$clone(t.layout),append:this.proxy((function(e,a){t.before?t.before.before(a):this.$layoutsWrap().append(a),acf.enable(a,this.cid),this.render()}))});return this.$input().trigger("change"),e},onClickDuplicate(t,e){if(!this.validateAdd())return!1;const a=e.closest(".layout");this.duplicateLayout(a)},duplicateLayout(t){if(!this.allowAdd())return!1;const e=this.get("key"); const a=acf.duplicate({target:t,rename(t,a,i,n){return t==="id"?a.replace(`${e}-${i}`,`${e}-${n}`):a.replace(`${e}][${i}`,`${e}][${n}`)},before(t){acf.doAction("unmount",t)},after(t,e){acf.doAction("remount",t)}});return this.$input().trigger("change"),this.render(),acf.focusAttention(a),a},validateRemove(){if(this.allowRemove())return!0;const t=this.get("min"); let e=acf.__("This field requires at least {min} {label} {identifier}"); const a=acf._n("layout","layouts",t);return e=(e=(e=e.replace("{min}",t)).replace("{label}","")).replace("{identifier}",a),this.showNotice({text:e,type:"warning"}),!1},onClickRemove(t,e){const a=e.closest(".layout");if(t.shiftKey)return this.removeLayout(a);a.addClass("-hover"),acf.newTooltip({confirmRemove:!0,target:e,context:this,confirm(){this.removeLayout(a)},cancel(){a.removeClass("-hover")}})},removeLayout(t){const e=this; const a=this.getValue()==1?60:0;acf.remove({target:t,endHeight:a,complete(){e.$input().trigger("change"),e.render()}})},onClickCollapse(t,e){const a=e.closest(".layout");this.isLayoutClosed(a)?this.openLayout(a):this.closeLayout(a)},isLayoutClosed(t){return t.hasClass("-collapsed")},openLayout(t){t.removeClass("-collapsed"),acf.doAction("show",t,"collapse")},closeLayout(t){t.addClass("-collapsed"),acf.doAction("hide",t,"collapse"),this.renderLayout(t)},renderLayout(e){const a=e.children("input").attr("name").replace("[acf_fc_layout]",""); const i={action:"acf/fields/flexible_content/layout_title",field_key:this.get("key"),i:e.index(),layout:e.data("layout"),value:acf.serialize(e,a)};t.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(i),dataType:"html",type:"post",success(t){t&&e.children(".acf-fc-layout-handle").html(t)}})},onUnload(){let e=[];this.$layouts().each((function(a){t(this).hasClass("-collapsed")&&e.push(a)})),e=e.length?e:null,i.save(this.get("key"),e)},onInvalidField(t,e){this.isLayoutClosed(e)&&this.openLayout(e)},onHover(){this.addSortable(this),this.off("mouseover")}});acf.registerFieldType(e);var a=acf.models.TooltipConfirm.extend({events:{"click [data-layout]":"onConfirm",'click [data-event="cancel"]':"onCancel"},render(){this.html(this.get("text")),this.$el.addClass("acf-fc-popup")}});acf.registerConditionForFieldType("hasValue","flexible_content"),acf.registerConditionForFieldType("hasNoValue","flexible_content"),acf.registerConditionForFieldType("lessThan","flexible_content"),acf.registerConditionForFieldType("greaterThan","flexible_content");var i=new acf.Model({name:"this.collapsedLayouts",key(t,e){let a=this.get(t+e)||0;return a++,this.set(t+e,a,!0),a>1&&(t+=`-${a}`),t},load(t){t=this.key(t,"load");const e=acf.getPreference(this.name);return!(!e||!e[t])&&e[t]},save(e,a){e=this.key(e,"save");let i=acf.getPreference(this.name)||{};a===null?delete i[e]:i[e]=a,t.isEmptyObject(i)&&(i=null),acf.setPreference(this.name,i)}})}(jQuery)},925(){let t; let e;t=jQuery,e=acf.Field.extend({type:"gallery",events:{"click .acf-gallery-add":"onClickAdd","click .acf-gallery-edit":"onClickEdit","click .acf-gallery-remove":"onClickRemove","click .acf-gallery-attachment":"onClickSelect","click .acf-gallery-close":"onClickClose","change .acf-gallery-sort":"onChangeSort","click .acf-gallery-update":"onUpdate",mouseover:"onHover",showField:"render"},actions:{validation_begin:"onValidationBegin",validation_failure:"onValidationFailure",resize:"onResize"},onValidationBegin(){acf.disable(this.$sideData(),this.cid)},onValidationFailure(){acf.enable(this.$sideData(),this.cid)},$control(){return this.$(".acf-gallery")},$collection(){return this.$(".acf-gallery-attachments")},$attachments(){return this.$(".acf-gallery-attachment")},$attachment(t){return this.$(`.acf-gallery-attachment[data-id="${t}"]`)},$active(){return this.$(".acf-gallery-attachment.active")},$main(){return this.$(".acf-gallery-main")},$side(){return this.$(".acf-gallery-side")},$sideData(){return this.$(".acf-gallery-side-data")},isFull(){const t=parseInt(this.get("max")); const e=this.$attachments().length;return t&&e>=t},getValue(){const e=[];return this.$attachments().each((function(){e.push(t(this).data("id"))})),!!e.length&&e},addUnscopedEvents(e){this.on("change",".acf-gallery-side",(function(a){e.onUpdate(a,t(this))}))},addSortable(t){this.$collection().sortable({items:".acf-gallery-attachment",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,start(t,e){e.placeholder.html(e.item.html()),e.placeholder.removeAttr("style")},update(e,a){t.$input().trigger("change")}}),this.$control().resizable({handles:"s",minHeight:200,stop(t,e){acf.update_user_setting("gallery_height",e.size.height)}})},initialize(){this.addUnscopedEvents(this),this.render()},render(){const t=this.$(".acf-gallery-sort"); const e=this.$(".acf-gallery-add"); const a=this.$attachments().length;this.isFull()?e.addClass("disabled"):e.removeClass("disabled"),a?t.removeClass("disabled"):t.addClass("disabled"),this.resize()},resize(){const t=this.$control().width(); let e=Math.round(t/150);e=Math.min(e,8),this.$control().attr("data-columns",e)},onResize(){this.resize()},openSidebar(){this.$control().addClass("-open");let t=this.$control().width()/3;t=parseInt(t),t=Math.max(t,350),this.$(".acf-gallery-side-inner").css({width:t-1}),this.$side().animate({width:t-1},250),this.$main().animate({right:t},250)},closeSidebar(){this.$control().removeClass("-open"),this.$active().removeClass("active"),acf.disable(this.$side());const t=this.$(".acf-gallery-side-data");this.$main().animate({right:0},250),this.$side().animate({width:0},250,(function(){t.html("")}))},onClickAdd(e,a){this.isFull()?this.showNotice({text:acf.__("Maximum selection reached"),type:"warning"}):acf.newMediaPopup({mode:"select",title:acf.__("Add Image to Gallery"),field:this.get("key"),multiple:"add",library:this.get("library"),allowedTypes:this.get("mime_types"),selected:this.val(),select:t.proxy((function(t,e){this.appendAttachment(t,e)}),this)})},appendAttachment(e,a){if(e=this.validateAttachment(e),!this.isFull()&&!this.$attachment(e.id).length){const i=[`<div class="acf-gallery-attachment" data-id="${e.id}">`,`<input type="hidden" value="${e.id}" name="${this.getInputName()}[]">`,'<div class="margin" title="">','<div class="thumbnail">','<img src="" alt="">',"</div>",'<div class="filename"></div>',"</div>",'<div class="actions">',`<a href="#" class="acf-icon -cancel dark acf-gallery-remove" data-id="${e.id}"></a>`,"</div>","</div>"].join(""); const n=t(i);if(this.$collection().append(n),this.get("insert")==="prepend"){const o=this.$attachments().eq(a);o.length&&o.before(n)}this.renderAttachment(e),this.render(),this.$input().trigger("change")}},validateAttachment(t){if((t=acf.parseArgs(t,{id:"",url:"",alt:"",title:"",filename:"",type:"image"})).attributes){t=t.attributes;const e=acf.isget(t,"sizes",this.get("preview_size"),"url");e!==null&&(t.url=e)}return t},renderAttachment(t){t=this.validateAttachment(t);const e=this.$attachment(t.id);if(t.type=="image")e.find(".filename").remove();else{const a=acf.isget(t,"image","src");a!==null&&(t.url=a),e.find(".filename").text(t.filename)}t.url||(t.url=acf.get("mimeTypeIcon"),e.addClass("-icon")),e.find("img").attr({src:t.url,alt:t.alt,title:t.title}),acf.val(e.find("input"),t.id)},editAttachment(e){acf.newMediaPopup({mode:"edit",title:acf.__("Edit Image"),button:acf.__("Update Image"),attachment:e,field:this.get("key"),select:t.proxy((function(t,e){this.renderAttachment(t)}),this)})},onClickEdit(t,e){const a=e.data("id");a&&this.editAttachment(a)},removeAttachment(t){this.closeSidebar(),this.$attachment(t).remove(),this.render(),this.$input().trigger("change")},onClickRemove(t,e){t.preventDefault(),t.stopPropagation();const a=e.data("id");a&&this.removeAttachment(a)},selectAttachment(e){const a=this.$attachment(e);if(!a.hasClass("active")){const i=this.proxy((function(){this.$side().find(":focus").trigger("blur"),this.$active().removeClass("active"),a.addClass("active"),this.openSidebar(),n()})); var n=this.proxy((function(){const a={action:"acf/fields/gallery/get_attachment",field_key:this.get("key"),id:e};this.has("xhr")&&this.get("xhr").abort(),acf.showLoading(this.$sideData());const i=t.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(a),type:"post",dataType:"html",cache:!1,success:o});this.set("xhr",i)})); var o=this.proxy((function(t){if(t){const e=this.$sideData();e.html(t),e.find(".compat-field-acf-form-data").remove(),e.find("> table.form-table > tbody").append(e.find("> .compat-attachment-fields > tbody > tr")),acf.doAction("append",e)}}));i()}},onClickSelect(t,e){const a=e.data("id");a&&this.selectAttachment(a)},onClickClose(t,e){this.closeSidebar()},onChangeSort(e,a){if(!a.hasClass("disabled")){const i=a.val();if(i){const n=[];this.$attachments().each((function(){n.push(t(this).data("id"))}));const o=this.proxy((function(){const e={action:"acf/fields/gallery/get_sort_order",field_key:this.get("key"),ids:n,sort:i};t.ajax({url:acf.get("ajaxurl"),dataType:"json",type:"post",cache:!1,data:acf.prepareForAjax(e),success:s})})); var s=this.proxy((function(t){acf.isAjaxSuccess(t)&&(t.data.reverse(),t.data.map((function(t){this.$collection().prepend(this.$attachment(t))}),this))}));o()}}},onUpdate(e,a){const i=this.$(".acf-gallery-update");if(!i.hasClass("disabled")){const n=acf.serialize(this.$sideData());i.addClass("disabled"),i.before('<i class="acf-loading"></i> '),n.action="acf/fields/gallery/update_attachment",t.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(n),type:"post",dataType:"json",complete(){i.removeClass("disabled"),i.prev(".acf-loading").remove()}})}},onHover(){this.addSortable(this),this.off("mouseover")}}),acf.registerFieldType(e),acf.registerConditionForFieldType("hasValue","gallery"),acf.registerConditionForFieldType("hasNoValue","gallery"),acf.registerConditionForFieldType("selectionLessThan","gallery"),acf.registerConditionForFieldType("selectionGreaterThan","gallery")},945(){!function(t){const e=acf.Field.extend({type:"repeater",wait:"",events:{'click a[data-event="add-row"]':"onClickAdd",'click a[data-event="duplicate-row"]':"onClickDuplicate",'click a[data-event="remove-row"]':"onClickRemove",'click a[data-event="collapse-row"]':"onClickCollapse",showField:"onShow",unloadField:"onUnload",mouseover:"onHover",unloadField:"onUnload"},$control(){return this.$(".acf-repeater:first")},$table(){return this.$("table:first")},$tbody(){return this.$("tbody:first")},$rows(){return this.$("tbody:first > tr").not(".acf-clone")},$row(t){return this.$(`tbody:first > tr:eq(${t})`)},$clone(){return this.$("tbody:first > tr.acf-clone")},$actions(){return this.$(".acf-actions:last")},$button(){return this.$(".acf-actions:last .button")},getValue(){return this.$rows().length},allowRemove(){const t=parseInt(this.get("min"));return!t||t<this.val()},allowAdd(){const t=parseInt(this.get("max"));return!t||t>this.val()},addSortable(t){this.get("max")!=1&&this.$tbody().sortable({items:"> tr",handle:"> td.order",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,stop(e,a){t.render()},update(e,a){t.$input().trigger("change")}})},addCollapsed(){const e=a.load(this.get("key"));if(!e)return!1;this.$rows().each((function(a){e.indexOf(a)>-1&&t(this).find(".-collapsed-target").length&&t(this).addClass("-collapsed")}))},addUnscopedEvents(e){this.on("invalidField",".acf-row",(function(a){const i=t(this);e.isCollapsed(i)&&e.expand(i)}))},initialize(){this.addUnscopedEvents(this),this.addCollapsed(),acf.disable(this.$clone(),this.cid),this.render()},render(){this.$rows().each((function(e){t(this).find("> .order > span").html(e+1)}));const e=this.$control(); const a=this.$button();this.val()==0?e.addClass("-empty"):e.removeClass("-empty"),this.allowAdd()?(e.removeClass("-max"),a.removeClass("disabled")):(e.addClass("-max"),a.addClass("disabled"))},validateAdd(){if(this.allowAdd())return!0;const t=this.get("max"); let e=acf.__("Maximum rows reached ({max} rows)");return e=e.replace("{max}",t),this.showNotice({text:e,type:"warning"}),!1},onClickAdd(t,e){if(!this.validateAdd())return!1;e.hasClass("acf-icon")?this.add({before:e.closest(".acf-row")}):this.add()},add(t){if(!this.allowAdd())return!1;t=acf.parseArgs(t,{before:!1});const e=acf.duplicate({target:this.$clone(),append:this.proxy((function(e,a){t.before?t.before.before(a):e.before(a),a.removeClass("acf-clone"),acf.enable(a,this.cid),this.render()}))});return this.$input().trigger("change"),e},onClickDuplicate(t,e){if(!this.validateAdd())return!1;const a=e.closest(".acf-row");this.duplicateRow(a)},duplicateRow(t){if(!this.allowAdd())return!1;const e=this.get("key"); const a=acf.duplicate({target:t,rename(t,a,i,n){return t==="id"?a.replace(`${e}-${i}`,`${e}-${n}`):a.replace(`${e}][${i}`,`${e}][${n}`)},before(t){acf.doAction("unmount",t)},after(t,e){acf.doAction("remount",t)}});return this.$input().trigger("change"),this.render(),acf.focusAttention(a),a},validateRemove(){if(this.allowRemove())return!0;const t=this.get("min"); let e=acf.__("Minimum rows reached ({min} rows)");return e=e.replace("{min}",t),this.showNotice({text:e,type:"warning"}),!1},onClickRemove(t,e){const a=e.closest(".acf-row");if(t.shiftKey)return this.remove(a);a.addClass("-hover"),acf.newTooltip({confirmRemove:!0,target:e,context:this,confirm(){this.remove(a)},cancel(){a.removeClass("-hover")}})},remove(t){const e=this;acf.remove({target:t,endHeight:0,complete(){e.$input().trigger("change"),e.render()}})},isCollapsed(t){return t.hasClass("-collapsed")},collapse(t){t.addClass("-collapsed"),acf.doAction("hide",t,"collapse")},expand(t){t.removeClass("-collapsed"),acf.doAction("show",t,"collapse")},onClickCollapse(t,e){let a=e.closest(".acf-row"); const i=this.isCollapsed(a);t.shiftKey&&(a=this.$rows()),i?this.expand(a):this.collapse(a)},onShow(t,e,a){const i=acf.getFields({is:":visible",parent:this.$el});acf.doAction("show_fields",i)},onUnload(){let e=[];this.$rows().each((function(a){t(this).hasClass("-collapsed")&&e.push(a)})),e=e.length?e:null,a.save(this.get("key"),e)},onHover(){this.addSortable(this),this.off("mouseover")}});acf.registerFieldType(e),acf.registerConditionForFieldType("hasValue","repeater"),acf.registerConditionForFieldType("hasNoValue","repeater"),acf.registerConditionForFieldType("lessThan","repeater"),acf.registerConditionForFieldType("greaterThan","repeater");var a=new acf.Model({name:"this.collapsedRows",key(t,e){let a=this.get(t+e)||0;return a++,this.set(t+e,a,!0),a>1&&(t+=`-${a}`),t},load(t){t=this.key(t,"load");const e=acf.getPreference(this.name);return!(!e||!e[t])&&e[t]},save(e,a){e=this.key(e,"save");let i=acf.getPreference(this.name)||{};a===null?delete i[e]:i[e]=a,t.isEmptyObject(i)&&(i=null),acf.setPreference(this.name,i)}})}(jQuery)}}; const e={};function a(i){const n=e[i];if(void 0!==n)return n.exports;const o=e[i]={exports:{}};return t[i](o,o.exports,a),o.exports}a.n=function(t){const e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,{a:e}),e},a.d=function(t,e){for(const i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){a(945),a(482),a(925)}()}();