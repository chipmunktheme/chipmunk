{% extends '_layout.twig' %}

{% block content %}
  {% embed 'wrappers/section.twig' with { modifiers: posts ? 'compact-bottom' } %}
    {% block content %}
      <div class="l-header">
        <h1 class="{{ class('c-heading', 'h4') }}">
          <small>{{ __('Search results for:', 'chipmunk') }}</small>
          {{ get_search_query() }}
        </h1>

        {% include 'partials/search.twig' with { narrow: true } %}

        {% if not posts %}
          <p class="l-header__copy">
            {{ __('Sorry, your search did not match any resources.', 'chipmunk') }}
          </p>
        {% endif %}
      </div>
    {% endblock %}
  {% endembed %}

  {% if posts %}
    <div data-action-element="load_posts">
      {% for post in posts %}
        {% include "content/entry/search.twig" %}
      {% endfor %}
    </div>
  {% endif %}

  {% if posts.pagination %}
    {% embed 'wrappers/section.twig' %}
      {% block content %}
        {% include 'sections/pagination.twig' with { pagination: posts.pagination } %}
      {% endblock %}
    {% endembed %}
  {% endif %}
{% endblock %}
