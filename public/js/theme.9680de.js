"use strict";(self.webpackChunkchipmunk=self.webpackChunkchipmunk||[]).push([[505],{6811:(t,e,a)=>{var s=a(4575);const n={init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;this.triggers=Array.from(t.querySelectorAll("[data-panel]")),this.triggers.forEach((t=>{t.addEventListener("click",this.handlePanel)})),document.addEventListener("panel:close",this.closePanels.bind(this))},handlePanel(t){t.preventDefault();const e=t.currentTarget.dataset.panel;document.documentElement.classList.toggle("has-".concat(e,"-open"))},closePanels(){this.triggers.forEach((t=>{const e=t.dataset.panel,a=document.documentElement.classList;a.contains("has-".concat(e,"-open"))&&a.remove("has-".concat(e,"-open"))}))}},o=()=>window.getComputedStyle(document.body,"::before").getPropertyValue("content").replace(/\"/g,""),i={blockClosing:!1,init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;this.triggers=Array.from(t.querySelectorAll("[data-dropdown]")),this.triggers.forEach((t=>{const e=t.dataset.dropdown;switch(e){case"click":this.handleListener(t,e);break;case"responsive":this.handleListener(t,this.isTouchDevice()||"lg"!==o()?"click":"hover");break;default:this.handleListener(t,"hover")}})),t.addEventListener("dropdown:close",(()=>this.closeDropdowns(null,!0)),!1)},handleListener(t,e){"click"===e&&t.addEventListener(e,(e=>{this.handleDropdown(e,t.parentNode)})),"hover"===e&&(t.parentNode.addEventListener("mouseenter",(e=>{t.style.pointerEvents="none",this.handleDropdown(e,t.parentNode,"add"),this.blockClosing=!0})),t.parentNode.addEventListener("mouseleave",(e=>{t.style.pointerEvents="all",this.handleDropdown(e,t.parentNode,"remove"),this.blockClosing=!1})))},handleDropdown(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toggle";t&&(t.preventDefault(),this.closeDropdowns(e)),e.classList[a]("is-open")},closeDropdowns(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.blockClosing&&!e||this.triggers.forEach((a=>{!e&&(t&&a.parentNode===t||a.dataset.dropdownBlock)||this.handleDropdown(null,a.parentNode,"remove")}))},isTouchDevice:()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0};var r=a(2442),l=a.n(r);function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){h(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const u={defaults:{cellAlign:"left",draggable:!0,contain:!0,groupCells:!0,pageDots:!1,arrowShape:"M43.536 11.464a5 5 0 0 1 .415 6.6l-.415.472L17.075 45H95a5 5 0 0 1 .583 9.966L95 55H17.075l26.46 26.464a5 5 0 0 1-6.6 7.487l-.47-.415-35-35a5.04 5.04 0 0 1-.483-.56l-.359-.556-.267-.563-.177-.527-.145-.743L0 50l.014-.376.087-.628.148-.557.22-.555.261-.488.335-.481.4-.45 35-35a5 5 0 0 1 7.07 0Z"},init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const e=Array.from(t.querySelectorAll("[data-carousel]"));window.addEventListener("load",(()=>{e.forEach((t=>{this.initCarousel(t,t.dataset.carousel?JSON.parse(t.dataset.carousel):{})}))})),window.addEventListener("tabs:show",(t=>{const{hash:e}=t.detail;if(e){const t=l().data("".concat(e," [data-carousel]"));t&&t.resize()}})),l().prototype._createResizeClass=function(){this.element.classList.add("flickity-resize")},l().createMethods.push("_createResizeClass");const{resize:a}=l().prototype;l().prototype.resize=function(){this.element.classList.remove("flickity-resize"),a.call(this),this.element.classList.add("flickity-resize")}},initCarousel(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.childElementCount>1&&new(l())(t,d(d({},u.defaults),e))}},p=u,m={init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;this.triggers=Array.from(t.querySelectorAll("[data-popup]")),this.triggers.forEach((t=>{t.removeEventListener("click",this.handlePopup),t.addEventListener("click",this.handlePopup)})),window.addEventListener("load",this.handleHash.bind(this),!1),document.addEventListener("popup:close",this.closePopup.bind(this))},handlePopup(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.preventDefault();const a=t.currentTarget,s=e||a.dataset.popup;a&&s?m.openPopup():m.closePopup()},openPopup(t){t&&t.preventDefault(),document.body.classList.add("has-popup-open"),window.history.pushState(null,null,"#submit")},closePopup(){document.body.classList.remove("has-popup-open"),window.history.pushState(null,null," "),setTimeout((()=>this.clearForm()),500)},handleHash(){"#submit"===window.location.hash&&this.openPopup()},clearForm(){const t=document.querySelector("[data-popup-content]");if(t){const e=t.querySelector("[data-action]"),a=t.querySelector("[data-action-element]"),s=t.querySelector("[data-action-message]");e&&a&&s&&s.innerHTML&&(e.reset(),a.style.display=null,s.innerHTML="")}}},g=m,v={errorClass:"c-form__error",init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;this.forms=t.querySelectorAll("[data-validate], #commentform"),this.forms.forEach((t=>this.validate(t)))},validate(t){t.addEventListener("submit",(e=>{const a=t.querySelectorAll('input:not([type="hidden"]), textarea, select'),s=Array.from(a).filter(this.isInvalidElement);s.length&&(e.preventDefault(),e.stopImmediatePropagation(),a.forEach((t=>{this.validateElement(t),t.addEventListener("input",this.validateElement)})),s[0].focus())}))},isInvalidElement:t=>!(t instanceof Element?t:t.target).checkValidity(),validateElement(t){const e=t instanceof Element?t:t.target,a=e.name.toLowerCase();let s=e.closest("form").querySelector('[data-validate-message="'.concat(a,'"'));var n;e.checkValidity()?s&&(s.innerHTML=""):(s||(s=document.createElement("div"),s.classList.add(null!==(n=e.dataset.validateClass)&&void 0!==n?n:this.errorClass),s.dataset.validateMessage=a,e.parentNode.appendChild(s)),s.innerHTML=e.validationMessage)}};var w=a(7563);const f={params:{},splittables:{order:["orderby","order"]},init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;this.filters=Array.from(t.querySelectorAll("[data-filter]")),this.filters.forEach((t=>{t.onchange=this.filterResults.bind(this)}))},filterResults(){this.params=w.parse(window.location.search),this.filters.forEach((t=>{const e=t.dataset.filter,{value:a}=t;this.addCustomParam(e,a,!0)}));const t=w.stringify(this.params);this.params.tag?window.location.href="".concat(window.location.origin+window.location.pathname.replace(/\/page\/[0-9]+\//g,"/"),"?").concat(t):window.location.search=t},addCustomParam(t,e){if(e)return arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&t in this.splittables?(this.splittables[t].forEach((t=>{delete this.params[t]})),void e.split("-").forEach(((e,a)=>{this.addCustomParam(this.splittables[t][a],e)}))):void(this.params[t]=e);delete this.params[t]}},y=f,b={tabs:[],init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;this.tabs=Array.from(t.querySelectorAll("[data-tabs]")),this.tabs.forEach((t=>{t.toggles=Array.from(t.querySelectorAll("[data-tabs-toggle]")),t.panels=Array.from(t.querySelectorAll("[data-tabs-panel]")),this.bindTabs(t)})),1===this.tabs.length&&(window.addEventListener("hashchange",(()=>{window.location.hash&&this.showTab(this.tabs[0],window.location.hash)})),window.addEventListener("tabs:show",(t=>{window.history.pushState&&t.detail.hash&&window.history.pushState(null,null,t.detail.hash)})),window.location.hash&&window.addEventListener("load",this.showTab(this.tabs[0],window.location.hash),!1))},bindTabs(t){t.toggles.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.showTab(t,e.currentTarget.getAttribute("href"))}))}))},showTab(t,e){const a=t.querySelectorAll("[href='".concat(e,"']")),s=t.querySelector(e);a&&s&&(t.toggles.forEach((t=>{t.classList.remove("is-active")})),t.panels.forEach((t=>{t.classList.remove("is-active")})),a.forEach((t=>{t.classList.add("is-active")})),s.classList.add("is-active"),window.dispatchEvent&&window.dispatchEvent(new CustomEvent("tabs:show",{detail:{hash:e}})))}},E=b,L={init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;this.consents=Array.from(t.querySelectorAll("[data-consent]")),this.consents.forEach((t=>{const e=t.closest("form"),a=Array.from(e.querySelectorAll("input, textarea"));e.addEventListener("submit",(()=>{t.classList.add("is-visible")})),a.forEach((e=>{e.addEventListener("focus",(()=>{t.classList.add("is-visible")}))}))}))}},S={options:{rows:5},init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;this.inputs=Array.from(t.querySelectorAll("[data-dynamic-rows]")),this.inputs.forEach((t=>{t.addEventListener("keyup",this.updateRows.bind(this,t))})),window.addEventListener("load",(()=>{this.inputs.forEach((t=>{this.updateRows(t)}))}))},updateRows(t){var e;if(!t.value)return;const a=window.getComputedStyle(t),s=parseInt(a.getPropertyValue("line-height"),10),n=parseInt(a.getPropertyValue("padding-top"),10)+parseInt(a.getPropertyValue("padding-bottom"),10),o=parseInt(null!==(e=t.dataset.dynamicRows)&&void 0!==e?e:this.options.rows,10),i=parseInt((t.scrollHeight-n)/s,10);t.setAttribute("rows",i>o?o:i)}},k={options:{threshold:[1]},init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;"IntersectionObserver"in window&&this.observeIntersections(t)},observeIntersections(t){this.triggers=t.querySelectorAll("[data-view-trigger]");const e=new IntersectionObserver((t=>{t.forEach((t=>{const e=t.target,a=t.target.dataset.viewTrigger;t&&t.isIntersecting&&e.dispatchEvent(new Event(a))}))}),this.options);this.triggers.length&&this.triggers.forEach((t=>e.observe(t)))}},A={init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;this.triggers=Array.from(t.querySelectorAll("[data-rating]")),this.triggers.forEach((t=>{t.addEventListener("click",this.handleClick)}))},handleClick(t){const e=t.currentTarget,a=e.parentNode;Array.from(a.children).forEach((t=>{t.classList.toggle("is-active",t===e)})),a.classList.add("is-active"),t.preventDefault()}};var P=a(9669),C=a.n(P);const T={http:null,init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const{ajaxUrl:e,loginUrl:a}=window.globals;this.settings={ajaxUrl:e,loginUrl:a},this.triggers=Array.from(t.querySelectorAll("[data-action]:not([data-type])")),this.http=C().create({transformRequest:[t=>(t.set("action","chipmunk_".concat(t.get("action"))),t)]}),this.triggers.forEach((t=>{t.dataset.listening||(t.hasAttribute("action")?t.addEventListener("submit",this.handleEvent.bind(this)):t.addEventListener("click",this.handleEvent.bind(this)),t.dataset.listening=!0)}))},handleEvent(t,e){t&&(e||(e=t.currentTarget),t.preventDefault(),t.stopPropagation()),this.runActions(e,[{data:e.dataset}])},runActions(t,e){const a=[];e&&e.length&&(t.classList.add("is-loading"),t.setAttribute("disabled",!0),e.forEach((e=>{const s=new FormData(t.hasAttribute("action")?t:document.createElement("form"));Object.keys(e.data).forEach((t=>{s.append(t,e.data[t])})),e.callback=e.callback||this.callbacks[e.data.action]||(()=>{}),a.push(this.http.post(this.settings.ajaxUrl,s))})),C().all(a).then(C().spread((function(){for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];s.forEach(((a,s)=>{setTimeout((()=>{e[s].callback(t,a.data,e[s].data.action),t.classList.remove("is-loading"),t.removeAttribute("disabled")}),250)}))}))))},handlers:{toggle:(t,e,a)=>{let{success:s,data:n}=e;s?document.querySelectorAll('[data-action="'.concat(a,'"][data-action-post-id="').concat(n.post,'"]')).forEach((t=>{t.classList[n.status]("is-active"),t.innerHTML=n.content})):(void 0).settings.loginUrl&&(window.location=(void 0).settings.loginUrl)}},callbacks:{submit_resource:(t,e,a)=>{let{success:s,data:n}=e;const o=t.querySelector("[data-action-element=".concat(a,"]")),i=t.querySelector("[data-action-message=".concat(a,"]"));i&&(i.style.display=null,i.dataset.status=s?"success":"error",i.innerHTML=n,s&&(o.style.display="none"))},load_posts:(t,e,a)=>{let{success:s,data:n}=e;const o=document.querySelector("[data-action-element=".concat(a,"]"));o&&(s?(o.insertAdjacentHTML("beforeend",n),t.dataset.page=parseInt(t.dataset.page,10)+1):(t.parentNode.insertAdjacentHTML("beforeend",'<p class="l-header__copy">'.concat(n,"</p>")),t.parentNode.removeChild(t)),T.init(o))},toggle_bookmark:(t,e,a)=>{T.handlers.toggle(t,e,a)},toggle_upvote:(t,e,a)=>{T.handlers.toggle(t,e,a)},submit_rating:(t,e)=>{let{success:a,data:s}=e;const n=document.querySelector('[data-action-rating="'.concat(s.post,'"]'));n&&a&&(n.innerHTML=s.content)}}},q=T;var D=a(3096),O=a.n(D);const H={heightCalculated:!1,init(){window.onload=()=>setTimeout(this.handleLoad(),250),window.onresize=O()(this.handleResize,200),window.onscroll=O()(this.handleScroll,50)},handleLoad(){H.calculatePlaceholderHeight(),H.calculateScrollbarWidth(),H.handleScrollStatus()},handleResize(){H.calculateScrollbarWidth(),0===document.documentElement.scrollTop&&H.calculatePlaceholderHeight()},handleScroll(){H.handleScrollStatus()},calculatePlaceholderHeight(){Array.from(document.querySelectorAll("[data-placehold-height]")).forEach((t=>{const e=t.dataset.placeholdHeight;document.body.style.setProperty("--".concat(e,"-height"),"".concat(t.clientHeight,"px")),t.matches('[class*="sticky"]')&&t.style.setProperty("position","fixed")})),this.heightCalculated=!0},calculateScrollbarWidth(){document.body.style.setProperty("--scrollbar-width","".concat(window.innerWidth-document.documentElement.clientWidth,"px"))},handleScrollStatus(){if(!this.heightCalculated)return;const t=document.documentElement.scrollTop;document.body.classList.toggle("is-condensed",t>50)}},M=H,j={init(t){n.init(t),i.init(t),p.init(t),g.init(t),v.init(t),y.init(t),E.init(t),L.init(t),S.init(t),k.init(t),A.init(t),q.init(t),M.init(t)}},N={init(){document.addEventListener("panels:close",(()=>{document.documentElement.classList.remove("has-nav-open","has-search-open","has-popup-open"),document.dispatchEvent(new CustomEvent("dropdown:close")),document.dispatchEvent(new CustomEvent("popup:close"))})),document.addEventListener("keyup",this.keyListener),document.addEventListener("click",this.clickListener),document.addEventListener("touchend",this.clickListener)},keyListener(t){27===t.keyCode&&document.dispatchEvent(new CustomEvent("panels:close"))},clickListener(t){const e=[t.target],a=t.path||t.composedPath&&t.composedPath();a&&(N.listenerMatcher(a,["dropdown","dropdown-content"])||document.dispatchEvent(new CustomEvent("dropdown:close"))),e&&N.listenerMatcher(e,/popup($|\s)/)&&document.dispatchEvent(new CustomEvent("popup:close"))},listenerMatcher:(t,e)=>t.some((t=>{const a=e instanceof RegExp,s=t instanceof HTMLElement&&t.className&&(a?e.test(t.className):t.className.includes(e)),n=t instanceof HTMLElement&&t.dataset&&(Array.isArray(e)?e.some((e=>e in t.dataset)):e in t.dataset);return a?s:s||n}))},I=N;const R=async t=>{t&&console.error(t),I.init(),j.init()};(0,s.Z)(R)},485:()=>{}},t=>{var e=e=>t(t.s=e);t.O(0,[575,192],(()=>(e(6811),e(485)))),t.O()}]);